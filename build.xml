<project name="SalesforceDeployment" default="deploy" basedir=".">
    <property file="build.properties"/>

    <target name="deploy">
        <!-- Set environment-specific properties -->
        <condition property="sf.username" value="${sf.username.sandbox}">
            <isset property="env.sandbox"/>
        </condition>
        <condition property="sf.password" value="${sf.password.sandbox}">
            <isset property="env.sandbox"/>
        </condition>
        <condition property="sf.serverurl" value="${sf.serverurl.sandbox}">
            <isset property="env.sandbox"/>
        </condition>

        <condition property="sf.username" value="${sf.username.prod}">
            <isset property="env.prod"/>
        </condition>
        <condition property="sf.password" value="${sf.password.prod}">
            <isset property="env.prod"/>
        </condition>
        <condition property="sf.serverurl" value="${sf.serverurl.prod}">
            <isset property="env.prod"/>
        </condition>

        <!-- Authenticate and Deploy -->
        <taskdef resource="com/salesforce/antlib.xml" classpath="lib/ant-salesforce.jar"/>
        <sf:deploy username="${sf.username}" password="${sf.password}" serverurl="${sf.serverurl}" runAllTests="${sf.runTests}">
            <!-- Specify the components to deploy -->
        </sf:deploy>
    </target>
</project>
